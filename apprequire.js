(function(){var a=this,y,b=Object.prototype.toString,h=a.document,v=h.getElementsByTagName("head")[0]||h.getElementsByTagName("body")[0],I=!!a.ActiveXObject,n="LOADING",u="WAITING",j="LOADED",c="DEPENDENCY",l="DEFINED",o="LOADERROR",r={},H,k=[],A=[],g=[],q=null;function p(L){return b.apply(L)==="[object Array]"}function m(M,L){return M===null||M===undefined||((p(M)&&!M.length))||(!L?M==="":false)}function F(P,O,N){if(m(P,true)){return}for(var M=0,L=P.length;M<L;M++){if(O.call(N||P[M],P[M],M,P)===false){return M}}}function f(N,M,L){if(m(N)){return}if(p(N)||N.callee){F(N,M,L);return}else{if(typeof N=="object"){for(var O in N){if(N.hasOwnProperty(O)){if(M.call(L||N,O,N[O],N)===false){return}}}}}}function J(N,M,L){for(var O in M){if(!(O in N)||L){N[O]=M[O]}}}function C(P,Q){if((Q.charAt(Q.length-1)==="/")&&(Q.length>1)){Q=Q.substr(0,Q.length-1)}var L=B(P),M,N;if(Q.charAt(0)==="/"){return K(L,Q)}M=B(Q);M.directory="";if(K(M,"")!==""){return Q}M=(L.path==="")?[]:L.path.split("/");M=M.concat(Q.split("/"));for(var O=0;((N=M[O])!==y);O++){if((N===".")||((N==="")&&(O>0))){M.splice(O,1);O-=1}else{if(N===".."){M.splice(O-1,2);O-=2;if((O<0)&&(M.length==0)){return K(L,"")}else{O=0}}}}return K(L,M.join("/"))}function w(L,M){return C(L,M)+"/"}function B(P){var O={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/}},L=O.parser.strict.exec(P),N={},M=14;while(M--){N[O.key[M]]=L[M]||""}N[O.q.name]={};N[O.key[12]].replace(O.q.parser,function(R,Q,S){if(Q){N[O.q.name][Q]=S}});return N}function K(L,N){var M;M=((L.protocol)?(L.protocol+"://"):"");M=M+((L.authority)?L.authority:"");return M+((N)?N:((L.directory)?L.directory:""))}function d(L){L=L.split("/");L=L.slice(0,L.length-1);return L.join("/")}function G(L){L=L.split("/");L=L.slice(L.length-1);return L[0]}function z(L){L="_"+L;return r[L]}function D(M,L){M="_"+M;return r[M]=L}function s(M,N,L){this.parentPackage=M;this.id=N;this.uri=L;this.state=n;this.exports={};this.creatorFn=null;this.module=null;this.deps=[];if((this instanceof i===false)&&this.parentPackage&&(this.id===this.parentPackage.mainId)){this.parentPackage.setMainModule(this.exports,this.creatorFn,this.deps,u)}}s.prototype.require=function(Q,P,O){if(p(Q)){O=P;P=Q;Q=null}if(typeof P==="function"){O=P;P=[]}if(P===y){P=[]}Q=(Q==="")?Q:((Q.charAt(0)===".")?C(d(this.id),Q):C(this.parentPackage.id,Q));if(Q===null){var L=[],M,N;for(M=0;N=P[M];M++){N=(N.charAt(0)===".")?C(d(this.id),N):C(this.parentPackage.id,N);L.push([N,this])}this.loadModules(L,O);return y}else{if(!z(Q)){throw"Module: "+Q+" doesn't exist!!"}else{if((z(Q).state===n)||(z(Q).state===o)){throw"Module: "+Q+" is not loaded or in error state!!"}}}return z(Q).exports};s.prototype.procesQueues=function(L,M){if(L._done){return}this.cleanScriptTag(L);this.procesModQueue(L,M)};s.prototype.procesModQueue=function(L,O){var N,S,P,M,R=L._moduleId;for(M=0;N=A[M];M++){if(I&&(N[3]!==null)){L=N[3]}P=L._package;if(N[0]){S=this.resolveId(N[0],P)}else{S=L._moduleId}if(!z(S)){D(S,new s(P,S,L.src))}if(z(S).state===n){z(S).define(N[1],N[2])}}A=[];if(!O||((z(R))&&(z(R).state===n))){if(z(L._moduleId)){z(L._moduleId).setState(o)}if((this instanceof i===false)&&this.parentPackage&&(this.id===this.parentPackage.mainId)){this.parentPackage.setMainModule(this.exports,this.creatorFn,this.deps,o)}}if(k.length==0){var Q=[];f(r,function(U,T){if(T.state===j){if(T.deps.length>0){var V;for(M=0;V=T.deps[M];M++){if(!z(V)){Q.push([V,T])}}}T.setState(c)}});if(Q.length>0){this.loadModules(Q,null)}}f(r,function(U,T){if(T.state===c){T.create()}})};s.prototype.create=function(L){var O,M;L=(L)?L:{};if((this.state===l)||(this.state===o)||L["_"+this.id]){return true}if((this.state===n)||(this.state===j)||(this.state===u)){return false}L["_"+this.id]=true;for(M=0;O=this.deps[M];M++){var N=z(O);if(N===y){return false}else{if(N.state!==l){if(!N.create(L)){return false}}}}delete L["_"+this.id];if((this instanceof i===false)&&this.parentPackage&&(this.id===this.parentPackage.mainId)){this.parentPackage.setMainModule(this.exports,this.creatorFn,this.deps,l)}this.setState(l);J(this.exports,this.creatorFn.call(null,this.returnRequire(),this.exports,this.returnModule()));return true};s.prototype.returnRequire=function(){var M=this,L=function(){return M.require.apply(M,arguments)};L.main=q.returnModule();return L};s.prototype.returnModule=function(){if(!this.module){this.module={id:this.id,uri:this.uri}}return this.module};s.prototype.define=function(O,M){var L,N;this.setState(j);for(L=0;N=O[L];L++){N=(N.charAt(0)===".")?C(d(this.id),N):C(this.parentPackage.id,N);this.deps.push(N)}this.creatorFn=M};s.prototype.loadModules=function(O,N){var M,Q,L,P;for(;M=O.pop();){Q=M[0];if(!z(Q)){L=this.resolveRootPackage(Q);P=L.searchPath(Q);D(Q,new s(L,Q,d(P)));z(Q).insertScriptTag(Q,P+".js",L,z(Q).procesQueues,z(Q))}}};s.prototype.searchPath=function(L){L=L.replace(this.id,"");if(L.charAt(0)==="/"){L=L.substr(1)}return(this.getPath(L))?C(this.getPath(L),L.split("/").pop()):C(this.uri,L)};s.prototype.getPath=function(L){return this.path["_"+L]};s.prototype.setPath=function(M,L){return this.path["_"+M]=L};s.prototype.resolveId=function(M,L){L=(L===y)?this.parentPackage:L;return C(L.id,M)};s.prototype.resolveRootPackage=function(N){var L,M;L=N.split("/");for(M=L.length;M>0;M--){L=L.slice(0,L.length-1);if(z(L.join("/")) instanceof i){return z(L.join("/"))}}return q};s.prototype.resolveURI=function(M,L){L=(L===y)?this.parentPackage:L;return C(d(L.uri),M)};s.prototype.insertScriptTag=function(Q,O,P,L,N){var M=h.createElement("script");M._moduleId=Q;M._package=P;M._timer=setTimeout(this.scriptTimer(M,L,N),H);M.type="text/javascript";M.onload=M.onreadystatechange=this.scriptLoad(M,L,N);M.onerror=this.scriptError(M,L,N);M.src=O;k.push(M);v.insertBefore(M,v.firstChild)};s.prototype.cleanScriptTag=function(L){L._done=true;L.onload=L.onreadystatechange=new Function("");L.onerror=new Function("");if(L._timer){clearTimeout(L._timer)}F(k,function(N,M){if(L===N){k.splice(M,1)}})};s.prototype.scriptLoad=function(M,L,N){return function(){if(M._done||(typeof M.readyState!="undefined"&&!((M.readyState=="loaded")||(M.readyState=="complete")))){return}L.call(N,M,true)}};s.prototype.scriptError=function(M,L,N){return function(){L.call(N,M,false)}};s.prototype.scriptTimer=function(M,L,N){return function(){M._timer=0;L.call(N,M,false)}};s.prototype.setState=function(L){this.state=L};function i(N,O,L,M){this.cfg=M;this.path={};this.mainId="";this.packageUri=L;N=(N===null)?this:N;s.call(this,N,O,L)}i.prototype=new s();i.prototype.loadPackageDef=function(L){var M;if(L){M=C(this.id,G(L));L=this.resolveURI(L+".js",this)}else{M=C(this.id,"package");L=this.resolveURI("package.js",this)}this.insertScriptTag(M,L,this,this.procesQueues,this)};i.prototype.procesQueues=function(L,M){if(L._done){return}if(!M){if(L._package.id===this.id){this.setState(o)}}this.cleanScriptTag(L);this.procesPackageDefs(L);this.procesModQueue(L,true);if((this.mainId!=="")&&!z(this.mainId)){this.loadModules([[this.mainId,this]])}};i.prototype.procesPackageDefs=function(L){var M;for(;M=g.pop();){if(I){L=M[1]}L._package.procesPackageCfg(M[0])}};i.prototype.procesPackageCfg=function(L){var M;this.cfg=L;this.mainId=(L.main)?C(this.id,L.main):this.mainId;this.uri=(L.directories&&L.directories.lib)?this.resolveURI(L.directories.lib,this):this.resolveURI("lib",this);M=(L.paths)?L.paths:{};f(M,function(O,N){this.setPath(O,w(this.uri,N))},this);M=(L.mappings)?L.mappings:{};f(M,function(N,P){var O=w(this.packageUri,P.location);N=this.resolveId(N,this);D(N,new i(this,N,O,P));z(N).loadPackageDef()},this);this.setState(u)};i.prototype.setMainModule=function(L,M,O,N){this.exports=L;this.creatorFn=M;this.deps=O;this.setState(N)};function e(Q,P,O){var L=/(\/\*([\s\S]*?)\*\/|\/\/(.*)$)/mg;var N=/require\(["']([\w-_\.\/]+)["']\)/g;if(typeof Q!=="string"){O=P;P=Q;Q=null}if(!p(P)){O=P;P=[]}if(!name&&!P.length&&(typeof O==="function")){O.toString().replace(L,"").replace(N,function(R,S){P.push(S)})}var M=null;if(I){F(k,function(R){if(R.readyState==="interactive"){M=R;return false}})}A.push([Q,P,O,M])}function E(L){var M=null;if(I){F(k,function(N){if(N.readyState==="interactive"){M=N;return false}})}g.push([L,M])}function x(N){var M=document.getElementsByTagName("script"),O,R,S,L,P,Q={main:"",mainFunction:null,deps:[],location:"",directories:{lib:"./lib"},waitSeconds:6000,baseUrlMatch:/apprequire\.js/i},N=(typeof N=="object")?N:Q;J(N,Q);H=N.waitSeconds;for(P=M.length-1;P>-1&&(O=M[P]);P--){R=O.getAttribute("data-main");S=O.src;if(S){L=S.match(N.baseUrlMatch);if(L){break}}}S=(R)?C(d(a.location.href),R):w(d(a.location.href),N.location);q=D("",new i(null,"",S,N));t();if(R){q.loadPackageDef(R)}else{q.procesPackageCfg(N);if((N.main!=="")&&(N.mainFunction!==null)){e(N.main,N.deps,N.mainFunction);q.procesModQueue({_package:q,_moduleId:N.main,src:a.location.href},true)}else{if(N.main!==""){q.loadModules([[N.main,q]])}}}}function t(){var L=a.require=q.returnRequire();L.ensure=a.require;L["package"]=E;L.main=a.module=q.returnModule();a.module.declare=e;a.module.modules=r;a.define=e}if(typeof a.require!=="function"){x((typeof a.require!=="undefined")?a.require:{})}}).call(typeof window==="undefined"?this:window);