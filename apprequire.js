(function(){var r=this,o,k=Object.prototype.toString,B=r.document,n=B.getElementsByTagName("head")[0]||B.getElementsByTagName("body")[0],f=!!r.ActiveXObject,y={},j,c=[],i=[],v=[],q=null;function l(C){return k.apply(C)==="[object Array]"}function m(D,C){return D===null||D===undefined||((l(D)&&!D.length))||(!C?D==="":false)}function d(G,F,E){if(m(G,true)){return}for(var D=0,C=G.length;D<C;D++){if(F.call(E||G[D],G[D],D,G)===false){return D}}}function g(E,D,C){if(m(E)){return}if(l(E)||E.callee){d(E,D,C);return}else{if(typeof E=="object"){for(var F in E){if(E.hasOwnProperty(F)){if(D.call(C||E,F,E[F],E)===false){return}}}}}}function p(E,D,C){for(var F in D){if(!(F in E)||C){E[F]=D[F]}}}function b(G,H){if((H.charAt(H.length-1)==="/")&&(H.length>1)){H=H.substr(0,H.length-1)}var C=u(G),D,E;if(H.charAt(0)==="/"){return a(C,H)}D=u(H);D.directory="";if(a(D,"")!==""){return H}D=(C.path==="")?[]:C.path.split("/");D=D.concat(H.split("/"));for(var F=0;((E=D[F])!==o);F++){if((E===".")||((E==="")&&(F>0))){D.splice(F,1);F-=1}else{if(E===".."){D.splice(F-1,2);F-=2;if(F<0){return a(C,"")}}}}return a(C,D.join("/"))}function u(G){var F={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/}},C=F.parser.strict.exec(G),E={},D=14;while(D--){E[F.key[D]]=C[D]||""}E[F.q.name]={};E[F.key[12]].replace(F.q.parser,function(I,H,J){if(H){E[F.q.name][H]=J}});return E}function a(C,E){var D;D=((C.protocol)?(C.protocol+"://"):"");D=D+((C.authority)?C.authority:"");return D+((E)?E:((C.directory)?C.directory:""))}function s(C){C=C.split("/");C=C.slice(0,C.length-1);return C.join("/")}function z(C){C=C.split("/");C=C.slice(C.length-1);return C[0]}function A(D,E,C){this.parentPackage=D;this.id=E;this.uri=C;this.exports={};this.creatorFn=null;this.module=null;this.deps=[];this.defined=false}A.prototype.require=function(H,G,F){if(l(H)){F=G;G=H;H=""}if(typeof G==="function"){F=G;G=[]}if(G===o){G=[]}H=(H==="")?H:((H.charAt(0)===".")?b(s(this.id),H):b(this.parentPackage.id,H));if(H===""){var C=[],D,E;for(D=0;E=G[D];D++){E=(E.charAt(0)===".")?b(s(this.id),E):b(this.parentPackage.id,E);C.push([E,this])}this.loadModules(C,F);return o}else{if(!y[H]){throw"Module: "+H+" doesn't exist!!"}else{if(!y[H].creatorFn){throw"Module: "+H+" is not loaded or created!!"}}}return y[H].exports};A.prototype.procesQueues=function(C,D){if(C._done){return}this.cleanScriptTag(C);this.procesModQueue(C,D)};A.prototype.procesModQueue=function(C,F){var E,I,G,D;if(!F){y[C._moduleId].define([],null);y[C._moduleId].defined=true}for(D=0;E=i[D];D++){if(f&&(E[3]!==null)){C=E[3]}G=C._package;if(E[0]){I=this.resolveId(E[0],G)}else{I=C._moduleId}if(!y[I]){y[I]=new A(G,I,C.src)}if(y[I].creatorFn===null){y[I].define(E[1],E[2])}}i=[];if(c.length==0){var H=[];g(y,function(K,J){if(!J.defined){if(J.deps.length>0){var L;for(D=0;L=J.deps[D];D++){if(!y[L]){H.push([L,J])}}}}});if(H.length>0){this.loadModules(H,null)}}g(y,function(K,J){if(!J.defined&&(J.creatorFn!==null)){J.create()}})};A.prototype.create=function(C){var F,D;C=(C)?C:{};if(this.defined||C[this.id]){return true}if(this.creatorFn===null){return false}C[this.id]=true;for(D=0;F=this.deps[D];D++){var E=y[F];if(E===o){return false}else{if(!E.defined){if(!E.create(C)){return false}}}}delete C[this.id];p(this.exports,this.creatorFn.call(null,this.returnRequire(),this.exports,this.returnModule()));this.defined=true;if(this.id===this.parentPackage.mainId){this.parentPackage.setMainModule(this.exports,this.creatorFn,this.deps)}return true};A.prototype.returnRequire=function(){var C=this;return function(){return C.require.apply(C,arguments)}};A.prototype.returnModule=function(){if(!this.module){this.module={id:this.id,uri:this.uri}}return this.module};A.prototype.define=function(F,D){var C,E;for(C=0;E=F[C];C++){E=(E.charAt(0)===".")?b(s(this.id),E):b(this.parentPackage.id,E);this.deps.push(E)}this.creatorFn=D};A.prototype.loadModules=function(F,E){var D,H,C,G;for(;D=F.pop();){H=D[0];if(!y.hasOwnProperty(H)){C=this.resolveRootPackage(H);G=C.searchPath(H);y[H]=new A(C,H,s(G));this.insertScriptTag(H,G+".js",C,this.procesQueues,this)}}};A.prototype.searchPath=function(C){C=C.replace(this.id,"");if(C.charAt(0)==="/"){C=C.substr(1)}return(this.path[C])?b(this.path[C],C.split("/").pop()):b(this.uri,C)};A.prototype.resolveId=function(D,C){C=(C===o)?this.parentPackage:C;return b(C.id,D)};A.prototype.resolveRootPackage=function(E){var C,D;C=E.split("/");for(D=C.length;D>0;D--){C=C.slice(0,C.length-1);if(y[C.join("/")] instanceof t){return y[C.join("/")]}}return q};A.prototype.resolveURI=function(D,C){C=(C===o)?this.parentPackage:C;return b(s(C.uri),D)};A.prototype.insertScriptTag=function(H,F,G,C,E){var D=B.createElement("script");D._moduleId=H;D._package=G;D._timer=setTimeout(this.scriptTimer(D,C,E),j);D.type="text/javascript";D.onload=D.onreadystatechange=this.scriptLoad(D,C,E);D.src=F;c.push(D);n.insertBefore(D,n.firstChild)};A.prototype.cleanScriptTag=function(C){C._done=true;C.onload=C.onreadystatechange=new Function("");if(C._timer){clearTimeout(C._timer)}d(c,function(E,D){if(C===E){c.splice(D,1)}})};A.prototype.scriptLoad=function(D,C,E){return function(){if(D._done||(typeof D.readyState!="undefined"&&D.readyState!="loaded")){return}C.call(E,D,true)}};A.prototype.scriptTimer=function(D,C,E){return function(){D._timer=0;console.log("Timer went off !!!! script moduleId: ",D._moduleId);C.call(E,D,false)}};function t(E,F,C,D){this.cfg=D;this.path={};this.mainId="";E=(E===null)?this:E;A.call(this,E,F,C)}t.prototype=new A();t.prototype.loadPackageDef=function(C){var D;if(C){D=b(this.id,z(C));C=this.resolveURI(C+".js",this)}else{D=b(this.id,"package");C=this.resolveURI("package.js",this)}this.insertScriptTag(D,C,this,this.procesQueues,this)};t.prototype.procesQueues=function(C,D){if(C._done){return}this.cleanScriptTag(C);this.procesPackageDefs(C);this.procesModQueue(C,D);if((this.mainId!=="")&&!y[this.mainId]){this.loadModules([[this.mainId,this]])}};t.prototype.procesPackageDefs=function(C){var D;for(;D=v.pop();){if(f){C=D[1]}C._package.procesPackageCfg(D[0])}};t.prototype.procesPackageCfg=function(C){var D;this.cfg=C;this.mainId=(C.main)?b(this.id,C.main):this.mainId;this.uri=(C.directories&&C.directories.lib)?this.resolveURI(C.directories.lib,this):this.resolveURI("lib",this);D=(C.paths)?C.paths:{};g(D,function(F,E){this.path[F]=b(this.uri,E)},this);D=(C.mappings)?C.mappings:{};g(D,function(E,G){var F=G.location;E=this.resolveId(E,this);y[E]=new t(this,E,F,G);y[E].loadPackageDef()},this)};t.prototype.setMainModule=function(C,D,E){this.exports=C;this.creatorFn=D;this.deps=E;this.returnModule().id=this.mainId};function x(H,G,F){var C=/(\/\*([\s\S]*?)\*\/|\/\/(.*)$)/mg;var E=/require\(["']([\w-_\.\/]+)["']\)/g;if(typeof H!=="string"){F=G;G=H;H=null}if(!l(G)){F=G;G=[]}if(!name&&!G.length&&(typeof F==="function")){F.toString().replace(C,"").replace(E,function(I,J){G.push(J)})}var D=null;if(f){d(c,function(I){if(I.readyState==="interactive"){D=I;return false}})}i.push([H,G,F,D])}function h(C){var D=null;if(f){d(c,function(E){if(E.readyState==="interactive"){D=E;return false}})}v.push([C,D])}function e(E){var D=document.getElementsByTagName("script"),F,I,J,C,G,H={main:"",mainFunction:null,deps:[],location:"",directories:{lib:"./lib"},waitSeconds:6000,baseUrlMatch:/apprequire\.js/i},E=(typeof E=="object")?E:H;p(E,H);j=E.waitSeconds;for(G=D.length-1;G>-1&&(F=D[G]);G--){I=F.getAttribute("data-main");J=F.src;if(J){C=J.match(E.baseUrlMatch);if(C){break}}}J=(I)?b(s(r.location.href),I):b(r.location.href+"dummy",E.location);q=y[""]=new t(null,"",J,E);w();if(I){q.loadPackageDef(I)}else{q.procesPackageCfg(E);if((E.main!=="")&&(E.mainFunction!==null)){x(E.main,E.deps,E.mainFunction);q.procesModQueue({_package:q,_moduleId:E.main,src:r.location.href},true)}else{if(E.main!==""){q.loadModules([[E.main,q]])}}}}function w(){var C=r.require=q.returnRequire();C.ensure=r.require;C["package"]=h;C.main=r.module=q.returnModule();r.module.declare=x;r.module.modules=y;r.define=x}if(typeof r.require!=="function"){e((typeof r.require!=="undefined")?r.require:{})}}).call(typeof window==="undefined"?this:window);