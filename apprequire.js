(function(){var a=this,C,g=a.document,y=g.getElementsByTagName("head")[0]||g.getElementsByTagName("body")[0],N=!!a.ActiveXObject,m="_",p="LOADING",j="LOADED",c="DEPENDENCY",n="DEFINED",q="LOADERROR",x="WAITING",t={},u={},L,l=[],E=[],f=[],s=null;function r(S){var R=Object.prototype.toString;return R.apply(S)==="[object Array]"}function o(S,R){return S===null||S===undefined||((r(S)&&!S.length))||(!R?S==="":false)}function K(V,U,T){if(o(V,true)){return}for(var S=0,R=V.length;S<R;S++){if(U.call(T||V[S],V[S],S,V)===false){return S}}}function e(T,S,R){if(o(T)){return}if(r(T)||T.callee){K(T,S,R);return}else{if(typeof T=="object"){for(var U in T){if(T.hasOwnProperty(U)){if(S.call(R||T,U,T[U],T)===false){return}}}}}}function P(T,S,R){for(var U in S){if(!(U in T)||R){T[U]=S[U]}}}function O(T,U,S){if(S){O(T,S)}if(T&&U&&typeof U=="object"){for(var R in U){T[R]=U[R]}}return T}function H(V,W){if((W.charAt(W.length-1)==="/")&&(W.length>1)){W=W.substr(0,W.length-1)}var R=F(V),S,T;if(W.charAt(0)==="/"){return Q(R,W)}S=F(W);S.directory="";if(Q(S,"")!==""){return W}S=(R.path==="")?[]:R.path.split("/");S=S.concat(W.split("/"));for(var U=0;((T=S[U])!==C);U++){if((T===".")||((T==="")&&(U>0))){S.splice(U,1);U-=1}else{if(T===".."){if(U==0){throw"Trying to enter forbidden path space. base: "+V+" offset: "+W}S.splice(U-1,2);U-=2;if((U<0)&&(S.length==0)){return Q(R,"")}else{U=0}}}}return Q(R,S.join("/"))}function A(R,S){return H(R,S)+"/"}function F(V){var U={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/}},R=U.parser.strict.exec(V),T={},S=14;while(S--){T[U.key[S]]=R[S]||""}T[U.q.name]={};T[U.key[12]].replace(U.q.parser,function(X,W,Y){if(W){T[U.q.name][W]=Y}});return T}function Q(R,T){var S;S=((R.protocol)?(R.protocol+"://"):"");S=S+((R.authority)?R.authority:"");return S+((T)?T:((R.directory)?R.directory:""))}function M(R){R=R.split("/");R=R.slice(1,R.length);return R.join("/")}function b(R){R=R.split("/");R=R.slice(0);return R[0]}function k(R){R=R.split("/");R=R.slice(0,R.length-1);return R.join("/")}function z(R){R=R.split("/");R=R.slice(R.length-1);return R[0]}function D(R){return t[m+R]}function I(S,R){return t[m+S]=R}function G(R){return u[m+R]}function i(S,R){return u[m+S]=R}function v(S,T,R){this.parentPackage=S;this.id=T;this.uri=R;this.state=p;this.exports={};this.factoryFn=null;this.module=null;this.deps=[]}v.prototype={require:function(W,V,U){if(r(W)){U=V;V=W;W=null}if(typeof V==="function"){U=V;V=[]}if(V===C){V=[]}W=(W==="")?W:this.resolveId(W);if(W===null){var R=[],S,T;for(S=0;T=V[S];S++){T=this.resolveId(T);R.push(T)}this.parentPackage.loadModules(R,U);return C}else{if(!D(W)){throw"Module: "+W+" doesn't exist!!"}else{if((D(W).state===p)||(D(W).state===q)){throw"Module: "+W+" is not loaded or in error state!!"}}}return D(W).exports},resolveId:function(S){if(S.indexOf("!")!==-1){return S}var R=this.id.substring(this.id.indexOf("!")+1);S=(S.charAt(0)===".")?H(k(R),S):H("",S);S=this.parentPackage.resolveMapping(S);return(S.id)?S.pPackage.uid+"!"+S.id:""},create:function(R){var U,S;R=(R)?R:{};if((this.state===n)||(this.state===q)||R[m+this.id]){return true}if((this.state===p)||(this.state===j)||(this.state===x)){return false}R[m+this.id]=true;for(S=0;U=this.deps[S];S++){var T=D(U);if(T===C){return false}else{if(T.state!==n){if(!T.create(R)){return false}}}}delete R[m+this.id];this.setState(n);P(this.exports,this.factoryFn.call(null,this.returnRequire(),this.exports,this.returnModule()));return true},returnRequire:function(){var S=this,R=function(){return S.require.apply(S,arguments)};R.main=(s.mainId)?D(s.mainId).returnModule():{id:"",uri:""};return R},returnModule:function(){if(!this.module){this.module={id:this.id,uri:this.uri}}return this.module},define:function(U,S){var R,T;this.setState(j);for(R=0;T=U[R];R++){T=this.resolveId(T);if(T!==""){this.deps.push(T)}}this.factoryFn=S},setState:function(R){this.state=R}};function h(R,S){this.uid=R;this.uri=S;this.moduleUri=S;i(R,this);this.path={};this.mappings={};this.mainId=null;this.state=p}h.prototype={loadPackageDef:function(R){var S;if(R){S=this.addUid(z(R));R=H(this.moduleUri,R+".js")}else{S=this.addUid("package");R=H(this.moduleUri,"package.js")}this.insertScriptTag(S,R,this,this.procesQueues,this)},procesQueues:function(R,S){if(R._done){return}if(!S){if(R._package.uid===this.uid){this.setState(q)}}this.cleanScriptTag(R);this.procesPackageDefs(R);this.procesModQueue(R,true);if((this.mainId!==null)&&!D(this.mainId)){this.loadModules(this.mainId)}},procesPackageDefs:function(R){var S;for(;S=f.pop();){if(N){R=S[1]}R._package.procesPackageCfg(S[0])}},procesPackageCfg:function(R){var S;if(R.uid&&R.uid!==this.uid){this.uid=R.uid;i(R.uid,this)}this.mainId=(R.main)?this.uid+"!"+R.main:null;this.moduleUri=(R.directories&&R.directories.lib)?H(this.uri,R.directories.lib):H(this.uri,"lib");e(R.paths,function(U,T){this.setPath(U,A(this.moduleUri,T))},this);e(R.mappings,function(U,V){var T={};T.uri=(V.location)?A(this.uri,V.location):"";T.uid=(V.uid)?V.uid:T.uri;this.setMapping(U,T);if(!G(T.uid)){if(T.uri===""){throw"No mapping location for package: "+this.uid+" and mapping: "+U}(new h(T.uid,T.uri)).loadPackageDef()}},this);return this},procesModQueue:function(R,U){var T,Y,V,S,X=R._moduleId;for(S=0;T=E[S];S++){if(N&&(T[3]!==null)){R=T[3]}V=R._package;if(T[0]){Y=V.addUid(T[0])}else{Y=R._moduleId}if(!D(Y)){I(Y,new v(V,Y,R.src))}if(D(Y).state===p){D(Y).define(T[1],T[2])}}E=[];if(!U||((D(X))&&(D(X).state===p))){if(D(X)){D(X).setState(q)}}if(l.length==0){var W=[];e(t,function(aa,Z){if(Z.state===j){if(Z.deps.length>0){var ab;for(S=0;ab=Z.deps[S];S++){if(!D(ab)){W.push(ab)}}}Z.setState(c)}});if(W.length>0){this.loadModules(W,null)}}e(t,function(aa,Z){if(Z.state===c){Z.create()}})},setState:function(R){this.state=R},addUid:function(R){return this.uid+"!"+R},searchPath:function(R){R=R.substring(R.indexOf("!")+1);return(this.getPath(R))?H(this.getPath(R),z(R)):H(this.moduleUri,R)},getPath:function(R){return this.path[m+R]},setPath:function(S,R){return this.path[m+S]=R},getMapping:function(R){return this.mappings[m+R]},setMapping:function(S,R){return this.mappings[m+S]=R},loadModules:function(U,T){var W,R,V,S;U=(typeof U=="string")?[U]:U;for(;W=U.pop();){if(!D(W)){R=this.resolvePackage(W);V=R.searchPath(W);S=I(W,new v(R,W,k(V)));this.insertScriptTag(W,V+".js",R,R.procesQueues,R)}}},resolvePackage:function(R){R=R.substring(0,R.indexOf("!"));return G(R)},resolveMapping:function(T){T=T.substring(T.indexOf("!")+1);var R={pPackage:this,id:T},S;if(S=this.getMapping(b(T))){T=M(T);R=G(S.uid).resolveMapping(T)}else{if(T===""){R.id=(this.mainId)?this.mainId.substring(this.mainId.indexOf("!")+1):null}}return R},insertScriptTag:function(W,U,V,R,T){var S=g.createElement("script");S._moduleId=W;S._package=V;S._timer=setTimeout(this.scriptTimer(S,R,T),L);S.type="text/javascript";S.onload=S.onreadystatechange=this.scriptLoad(S,R,T);S.onerror=this.scriptError(S,R,T);S.src=U;l.push(S);y.insertBefore(S,y.firstChild)},cleanScriptTag:function(R){R._done=true;R.onload=R.onreadystatechange=new Function("");R.onerror=new Function("");if(R._timer){clearTimeout(R._timer)}K(l,function(T,S){if(R===T){l.splice(S,1)}})},scriptLoad:function(S,R,T){return function(){if(S._done||(typeof S.readyState!="undefined"&&!((S.readyState=="loaded")||(S.readyState=="complete")))){return}R.call(T,S,true)}},scriptError:function(S,R,T){return function(){R.call(T,S,false)}},scriptTimer:function(S,R,T){return function(){S._timer=0;R.call(T,S,false)}}};function d(W,V,U){var R=/(\/\*([\s\S]*?)\*\/|\/\/(.*)$)/mg;var T=/require\(["']([\w-_\.\/]+)["']\)/g;if(typeof W!=="string"){U=V;V=W;W=null}if(!r(V)){U=V;V=[]}if(!name&&!V.length&&(typeof U==="function")){U.toString().replace(R,"").replace(T,function(X,Y){V.push(Y)})}var S=null;if(N){K(l,function(X){if(X.readyState==="interactive"){S=X;return false}})}E.push([W,V,U,S])}function J(R){var S=null;if(N){K(l,function(T){if(T.readyState==="interactive"){S=T;return false}})}f.push([R,S])}function B(T){var S=document.getElementsByTagName("script"),U,X,Y,R,V,W={main:null,mainFunction:null,deps:[],location:"",directories:{lib:"./lib"},waitSeconds:6000,baseUrlMatch:/apprequire\.js/i},T=(typeof T=="object")?T:W;P(T,W);L=T.waitSeconds;for(V=S.length-1;V>-1&&(U=S[V]);V--){X=U.getAttribute("data-main");Y=U.src;if(Y){R=Y.match(T.baseUrlMatch);if(R){break}}}if(X){if(X.charAt(X.length)==="/"){Y=X;X=null}else{Y=k(X);X=z(X)}Y=H(k(a.location.href),Y)}else{Y=A(k(a.location.href),T.location)}s=new h("commonjs.org",Y);w();if(X){s.loadPackageDef(X)}else{s.procesPackageCfg(T);if((T.main!==null)&&(T.mainFunction!==null)){d(T.main,T.deps,T.mainFunction);s.procesModQueue({_package:s,_moduleId:T.main,src:a.location.href},true)}else{if(T.main!==null){s.loadModules(s.mainId)}}}}function w(){var R=a.require={};R["package"]=J;a.module={};a.module.declare=d;a.module.modules=t;a.module.packages=u;a.define=d}if(typeof a.require!=="function"){B((typeof a.require!=="undefined")?a.require:{})}}).call(typeof window==="undefined"?this:window);