(function(){var q=this,o,k=Object.prototype.toString,z=q.document,n=z.getElementsByTagName("head")[0]||z.getElementsByTagName("body")[0],g=!!q.ActiveXObject,b={mpackage:null,modules:{},timeout:6000},d=[],j=[],u=[];function l(A){return k.apply(A)==="[object Array]"}function m(B,A){return B===null||B===undefined||((l(B)&&!B.length))||(!A?B==="":false)}function e(E,D,C){if(m(E,true)){return}for(var B=0,A=E.length;B<A;B++){if(D.call(C||E[B],E[B],B,E)===false){return B}}}function h(C,B,A){if(m(C)){return}if(l(C)||C.callee){e(C,B,A);return}else{if(typeof C=="object"){for(var D in C){if(C.hasOwnProperty(D)){if(B.call(A||C,D,C[D],C)===false){return}}}}}}function p(C,B,A){for(var D in B){if(!(D in C)||A){C[D]=B[D]}}}function c(E,F){if((F.charAt(F.length-1)==="/")&&(F.length>1)){F=F.substr(0,F.length-1)}var A=t(E),B,C;if(F.charAt(0)==="/"){return a(A,F)}B=t(F);B.directory="";if(a(B,"")!==""){return F}B=(A.path==="")?[]:A.path.split("/");B=B.concat(F.split("/"));for(var D=0;((C=B[D])!==o);D++){if((C===".")||((C==="")&&(D>0))){B.splice(D,1);D-=1}else{if(C===".."){B.splice(D-1,2);D-=2;if(D<0){return a(A,"")}}}}return a(A,B.join("/"))}function t(E){var D={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/}},A=D.parser.strict.exec(E),C={},B=14;while(B--){C[D.key[B]]=A[B]||""}C[D.q.name]={};C[D.key[12]].replace(D.q.parser,function(G,F,H){if(F){C[D.q.name][F]=H}});return C}function a(A,C){var B;B=((A.protocol)?(A.protocol+"://"):"");B=B+((A.authority)?A.authority:"");return B+((C)?C:((A.directory)?A.directory:""))}function r(A){A=A.split("/");A=A.slice(0,A.length-1);return A.join("/")}function x(A){A=A.split("/");A=A.slice(A.length-1);return A[0]}function y(A,C,D,B){this.context=A;this.parentPackage=C;this.id=D;this.uri=B;this.exports=null;this.creatorFn=null;this.module=null;this.deps=[]}y.prototype.require=function(F,E,D){if(l(F)){D=E;E=F;F=""}if(typeof E==="function"){D=E;E=[]}if(E===o){E=[]}F=(F==="")?F:((F.charAt(0)===".")?c(r(this.id),F):c(this.parentPackage.id,F));if(!this.context.modules[F]||this.context.modules[F].createFn){var A=[],B,C;for(B=0;C=E[B];B++){C=(C.charAt(0)===".")?c(r(this.id),C):c(this.parentPackage.id,C);A.push([C,this])}A.push([F,this]);this.loadModules(A,D);return o}return this.context.modules[F].exports};y.prototype.procesQueues=function(A,B){if(A._done){return}this.cleanScriptTag(A);this.procesModQueue(A,B)};y.prototype.procesModQueue=function(A){var B=this.context.modules,D,G,E,C;for(C=0;D=j[C];C++){if(g){A=D[3]}E=A._package;if(D[0]){G=this.resolveId(D[0],E)}else{G=A._moduleId}if(!B[G]){B[G]=new y(this.context,E,G,A.src)}if(B[G].creatorFn===null){B[G].define(D[1],D[2])}}j=[];if(d.length==0){var F=[];h(B,function(I,H){if(H.exports===null){if(H.deps.length>0){var J;for(C=0;J=H.deps[C];C++){if(!H.context.modules[J]){F.push([J,H])}}}}});if(F.length>0){this.loadModules(F,null)}}h(B,function(I,H){if((H.exports===null)&&(H.creatorFn!==null)){H.create()}})};y.prototype.create=function(){var C,A;if(this.exports!==null){return true}if(this.creatorFn===null){return false}for(A=0;C=this.deps[A];A++){var B=this.context.modules[C];if(B===o){return false}else{if(B.exports===null){if(!B.create()){return false}}}}this.exports={};p(this.exports,this.creatorFn.call(null,this.returnRequire(),this.exports,this.returnModule()));return true};y.prototype.returnRequire=function(){var A=this;return function(){return b.mpackage.require.apply(A,arguments)}};y.prototype.returnModule=function(){if(!this.module){this.module={id:this.id,uri:this.uri}}return this.module};y.prototype.define=function(D,B){var A,C;for(A=0;C=D[A];A++){C=(C.charAt(0)===".")?c(r(this.id),C):c(this.parentPackage.id,C);this.deps.push(C)}this.creatorFn=B};y.prototype.loadModules=function(D,C){var B,F,A,E;console.log(D);for(;B=D.pop();){F=B[0];if(!this.context.modules.hasOwnProperty(F)){A=this.resolveRootPackage(F);E=A.searchPath(F);this.context.modules[F]=new y(this.context,A,F,r(E));this.insertScriptTag(F,E+".js",A,this.procesQueues,this)}}};y.prototype.searchPath=function(A){A=A.replace(this.id,"");if(A.charAt(0)==="/"){A=A.substr(1)}return(this.path[A])?c(this.path[A],A.split("/").pop()):c(this.uri,A)};y.prototype.resolveId=function(B,A){A=(A===o)?this.parentPackage:A;return c(A.id,B)};y.prototype.resolveRootPackage=function(C){var A,B;A=C.split("/");for(B=A.length;B>0;B--){A=A.slice(0,A.length-1);if(this.context.modules[A.join("/")] instanceof s){return this.context.modules[A.join("/")]}}return this.context.mpackage};y.prototype.resolveURI=function(B,A){A=(A===o)?this.parentPackage:A;return c(r(A.uri),B)};y.prototype.insertScriptTag=function(F,D,E,A,C){var B=z.createElement("script");B._moduleId=F;B._package=E;B._timer=setTimeout(this.scriptTimer(B,A,C),this.context.timeout);B.type="text/javascript";B.onload=B.onreadystatechange=this.scriptLoad(B,A,C);B.src=D;d.push(B);n.insertBefore(B,n.firstChild)};y.prototype.cleanScriptTag=function(A){A._done=true;A.onload=A.onreadystatechange=new Function("");if(A._timer){clearTimeout(A._timer)}e(d,function(C,B){if(A===C){d.splice(B,1)}})};y.prototype.scriptLoad=function(B,A,C){return function(){if(B._done||(typeof B.readyState!="undefined"&&B.readyState!="loaded")){return}A.call(C,B,true)}};y.prototype.scriptTimer=function(B,A,C){return function(){B._timer=0;A.call(C,B,false)}};function s(A,D,E,B,C){this.cfg=C;this.path={};D=(D===null)?this:D;y.call(this,A,D,E,B)}s.prototype=new y();s.prototype.loadPackageDef=function(A){A=(A)?A+".js":this.resolveURI("package.js",this);this.insertScriptTag(this.id,A,this,this.procesQueues,this)};s.prototype.procesQueues=function(A,B){if(A._done){return}this.cleanScriptTag(A);this.procesPackageDefs(A);this.procesModQueue(A,B)};s.prototype.procesPackageDefs=function(A){var B;for(;B=u.pop();){if(g){A=B[1]}this.procesPackageCfg(A._package,B[0])}};s.prototype.procesPackageCfg=function(D,A){var C,B=this.context.modules;D.cfg=A,this.uri=(A.directories&&A.directories.lib)?this.resolveURI(A.directories.lib,this):this.uri;C=(A.paths)?A.paths:{};h(C,function(F,E){D.path[F]=c(D.uri,E)},this);C=(A.mappings)?A.mappings:{};h(C,function(E,G){var F=G.location;E=this.resolveId(E,D);B[E]=new s(this.context,D,E,F,G);B[E].loadPackageDef()},this)};function w(F,E,D){var A=/(\/\*([\s\S]*?)\*\/|\/\/(.*)$)/mg;var C=/require\(["']([\w-_\.\/]+)["']\)/g;if(typeof F!=="string"){D=E;E=F;F=null}if(!l(E)){D=E;E=[]}if(!name&&!E.length&&(typeof D==="function")){D.toString().replace(A,"").replace(C,function(G,H){E.push(H)})}var B=null;if(g){e(d,function(G){if(G.readyState==="interactive"){B=G;return false}})}j.push([F,E,D,B])}function i(A){var B=null;if(g){e(d,function(C){if(C.readyState==="interactive"){B=C;return false}})}u.push([A,B])}function f(E){var H=document.getElementsByTagName("script"),F,C,A,B,D,I={main:"",location:"",directories:{lib:"./lib"},waitSeconds:10000,baseUrlMatch:/apprequire\.js/i},E=(E)?E:I;p(E,I);b.timeout=E.waitSeconds;for(D=H.length-1;D>-1&&(F=H[D]);D--){C=F.getAttribute("data-main");A=F.src;if(A){B=A.match(E.baseUrlMatch);if(B){break}}}A=(C)?c(r(q.location.href),C):c(r(q.location.href),E.location);var G=(C)?x(C):x(E.main);b.modules[""]=b.mpackage=new s(b,null,"",A,E);v();if(C){b.mpackage.loadPackageDef(C)}else{b.mpackage.procesPackageCfg(b.mpackage,E);if(G!==""){q.require(G)}}}function v(){var A=q.require=b.mpackage.returnRequire();A.ensure=q.require;A["package"]=i;A.main=q.module=b.mpackage.returnModule();q.module.declare=w;q.module.context=b;q.define=w}if(typeof q.require!=="function"){f((typeof q.require!=="undefined")?q.require:{})}}).call(typeof window==="undefined"?this:window);