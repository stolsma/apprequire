(function(){var w=this,u,o=Object.prototype.toString,I=w.document,r=I.getElementsByTagName("head")[0]||I.getElementsByTagName("body")[0],j=!!w.ActiveXObject,B="LOADING",s="WAITING",h="LOADED",g="DEPENDENCY",c="DEFINED",A="LOADERROR",F={},n,e=[],m=[],C=[],v=null;function p(J){return o.apply(J)==="[object Array]"}function q(K,J){return K===null||K===undefined||((p(K)&&!K.length))||(!J?K==="":false)}function f(N,M,L){if(q(N,true)){return}for(var K=0,J=N.length;K<J;K++){if(M.call(L||N[K],N[K],K,N)===false){return K}}}function k(L,K,J){if(q(L)){return}if(p(L)||L.callee){f(L,K,J);return}else{if(typeof L=="object"){for(var M in L){if(L.hasOwnProperty(M)){if(K.call(J||L,M,L[M],L)===false){return}}}}}}function t(L,K,J){for(var M in K){if(!(M in L)||J){L[M]=K[M]}}}function d(N,O){if((O.charAt(O.length-1)==="/")&&(O.length>1)){O=O.substr(0,O.length-1)}var J=z(N),K,L;if(O.charAt(0)==="/"){return a(J,O)}K=z(O);K.directory="";if(a(K,"")!==""){return O}K=(J.path==="")?[]:J.path.split("/");K=K.concat(O.split("/"));for(var M=0;((L=K[M])!==u);M++){if((L===".")||((L==="")&&(M>0))){K.splice(M,1);M-=1}else{if(L===".."){K.splice(M-1,2);M-=2;if((M<0)&&(K.length==0)){return a(J,"")}else{M=0}}}}return a(J,K.join("/"))}function b(J,K){return d(J,K)+"/"}function z(N){var M={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/}},J=M.parser.strict.exec(N),L={},K=14;while(K--){L[M.key[K]]=J[K]||""}L[M.q.name]={};L[M.key[12]].replace(M.q.parser,function(P,O,Q){if(O){L[M.q.name][O]=Q}});return L}function a(J,L){var K;K=((J.protocol)?(J.protocol+"://"):"");K=K+((J.authority)?J.authority:"");return K+((L)?L:((J.directory)?J.directory:""))}function x(J){J=J.split("/");J=J.slice(0,J.length-1);return J.join("/")}function G(J){J=J.split("/");J=J.slice(J.length-1);return J[0]}function H(K,L,J){this.parentPackage=K;this.id=L;this.uri=J;this.state=B;this.exports={};this.creatorFn=null;this.module=null;this.deps=[];if((this instanceof y===false)&&this.parentPackage&&(this.id===this.parentPackage.mainId)){this.parentPackage.setMainModule(this.exports,this.creatorFn,this.deps,s)}}H.prototype.require=function(O,N,M){if(p(O)){M=N;N=O;O=null}if(typeof N==="function"){M=N;N=[]}if(N===u){N=[]}O=(O==="")?O:((O.charAt(0)===".")?d(x(this.id),O):d(this.parentPackage.id,O));if(O===null){var J=[],K,L;for(K=0;L=N[K];K++){L=(L.charAt(0)===".")?d(x(this.id),L):d(this.parentPackage.id,L);J.push([L,this])}this.loadModules(J,M);return u}else{if(!F[O]){throw"Module: "+O+" doesn't exist!!"}else{if((F[O].state===B)||(F[O].state===A)){throw"Module: "+O+" is not loaded or in error state!!"}}}return F[O].exports};H.prototype.procesQueues=function(J,K){if(J._done){return}this.cleanScriptTag(J);this.procesModQueue(J,K)};H.prototype.procesModQueue=function(J,M){var L,Q,N,K,P=J._moduleId;for(K=0;L=m[K];K++){if(j&&(L[3]!==null)){J=L[3]}N=J._package;if(L[0]){Q=this.resolveId(L[0],N)}else{Q=J._moduleId}if(!F[Q]){F[Q]=new H(N,Q,J.src)}if(F[Q].state===B){F[Q].define(L[1],L[2])}}m=[];if(!M||((F[P])&&(F[P].state===B))){if(F[J._moduleId]){F[J._moduleId].setState(A)}if((this instanceof y===false)&&this.parentPackage&&(this.id===this.parentPackage.mainId)){this.parentPackage.setMainModule(this.exports,this.creatorFn,this.deps,A)}}if(e.length==0){var O=[];k(F,function(S,R){if(R.state===h){if(R.deps.length>0){var T;for(K=0;T=R.deps[K];K++){if(!F[T]){O.push([T,R])}}}R.setState(g)}});if(O.length>0){this.loadModules(O,null)}}k(F,function(S,R){if(R.state===g){R.create()}})};H.prototype.create=function(J){var M,K;J=(J)?J:{};if((this.state===c)||(this.state===A)||J[this.id]){return true}if((this.state===B)||(this.state===h)||(this.state===s)){return false}J[this.id]=true;for(K=0;M=this.deps[K];K++){var L=F[M];if(L===u){return false}else{if(L.state!==c){if(!L.create(J)){return false}}}}delete J[this.id];if((this instanceof y===false)&&this.parentPackage&&(this.id===this.parentPackage.mainId)){this.parentPackage.setMainModule(this.exports,this.creatorFn,this.deps,c)}this.setState(c);t(this.exports,this.creatorFn.call(null,this.returnRequire(),this.exports,this.returnModule()));return true};H.prototype.returnRequire=function(){var K=this,J=function(){return K.require.apply(K,arguments)};J.main=v.returnModule();return J};H.prototype.returnModule=function(){if(!this.module){this.module={id:this.id,uri:this.uri}}return this.module};H.prototype.define=function(M,K){var J,L;this.setState(h);for(J=0;L=M[J];J++){L=(L.charAt(0)===".")?d(x(this.id),L):d(this.parentPackage.id,L);this.deps.push(L)}this.creatorFn=K};H.prototype.loadModules=function(M,L){var K,O,J,N;for(;K=M.pop();){O=K[0];if(!F.hasOwnProperty(O)){J=this.resolveRootPackage(O);N=J.searchPath(O);F[O]=new H(J,O,x(N));F[O].insertScriptTag(O,N+".js",J,F[O].procesQueues,F[O])}}};H.prototype.searchPath=function(J){J=J.replace(this.id,"");if(J.charAt(0)==="/"){J=J.substr(1)}return(this.path[J])?d(this.path[J],J.split("/").pop()):d(this.uri,J)};H.prototype.resolveId=function(K,J){J=(J===u)?this.parentPackage:J;return d(J.id,K)};H.prototype.resolveRootPackage=function(L){var J,K;J=L.split("/");for(K=J.length;K>0;K--){J=J.slice(0,J.length-1);if(F[J.join("/")] instanceof y){return F[J.join("/")]}}return v};H.prototype.resolveURI=function(K,J){J=(J===u)?this.parentPackage:J;return d(x(J.uri),K)};H.prototype.insertScriptTag=function(O,M,N,J,L){var K=I.createElement("script");K._moduleId=O;K._package=N;K._timer=setTimeout(this.scriptTimer(K,J,L),n);K.type="text/javascript";K.onload=K.onreadystatechange=this.scriptLoad(K,J,L);K.onerror=this.scriptError(K,J,L);K.src=M;e.push(K);r.insertBefore(K,r.firstChild)};H.prototype.cleanScriptTag=function(J){J._done=true;J.onload=J.onreadystatechange=new Function("");if(J._timer){clearTimeout(J._timer)}f(e,function(L,K){if(J===L){e.splice(K,1)}})};H.prototype.scriptLoad=function(K,J,L){return function(){if(K._done||(typeof K.readyState!="undefined"&&!((K.readyState=="loaded")||(K.readyState=="complete")))){return}J.call(L,K,true)}};H.prototype.scriptError=function(K,J,L){return function(){var M="test";return}};H.prototype.scriptTimer=function(K,J,L){return function(){K._timer=0;J.call(L,K,false)}};H.prototype.setState=function(J){this.state=J};function y(L,M,J,K){this.cfg=K;this.path={};this.mainId="";this.packageUri=J;L=(L===null)?this:L;H.call(this,L,M,J)}y.prototype=new H();y.prototype.loadPackageDef=function(J){var K;if(J){K=d(this.id,G(J));J=this.resolveURI(J+".js",this)}else{K=d(this.id,"package");J=this.resolveURI("package.js",this)}this.insertScriptTag(K,J,this,this.procesQueues,this)};y.prototype.procesQueues=function(J,K){if(J._done){return}if(!K){if(J._package.id===this.id){this.setState(A)}}this.cleanScriptTag(J);this.procesPackageDefs(J);this.procesModQueue(J,true);if((this.mainId!=="")&&!F[this.mainId]){this.loadModules([[this.mainId,this]])}};y.prototype.procesPackageDefs=function(J){var K;for(;K=C.pop();){if(j){J=K[1]}J._package.procesPackageCfg(K[0])}};y.prototype.procesPackageCfg=function(J){var K;this.cfg=J;this.mainId=(J.main)?d(this.id,J.main):this.mainId;this.uri=(J.directories&&J.directories.lib)?this.resolveURI(J.directories.lib,this):this.resolveURI("lib",this);K=(J.paths)?J.paths:{};k(K,function(M,L){this.path[M]=b(this.uri,L)},this);K=(J.mappings)?J.mappings:{};k(K,function(L,N){var M=b(this.packageUri,N.location);L=this.resolveId(L,this);F[L]=new y(this,L,M,N);F[L].loadPackageDef()},this);this.setState(s)};y.prototype.setMainModule=function(J,K,M,L){this.exports=J;this.creatorFn=K;this.deps=M;this.setState(L)};function E(O,N,M){var J=/(\/\*([\s\S]*?)\*\/|\/\/(.*)$)/mg;var L=/require\(["']([\w-_\.\/]+)["']\)/g;if(typeof O!=="string"){M=N;N=O;O=null}if(!p(N)){M=N;N=[]}if(!name&&!N.length&&(typeof M==="function")){M.toString().replace(J,"").replace(L,function(P,Q){N.push(Q)})}var K=null;if(j){f(e,function(P){if(P.readyState==="interactive"){K=P;return false}})}m.push([O,N,M,K])}function l(J){var K=null;if(j){f(e,function(L){if(L.readyState==="interactive"){K=L;return false}})}C.push([J,K])}function i(L){var K=document.getElementsByTagName("script"),M,P,Q,J,N,O={main:"",mainFunction:null,deps:[],location:"",directories:{lib:"./lib"},waitSeconds:6000,baseUrlMatch:/apprequire\.js/i},L=(typeof L=="object")?L:O;t(L,O);n=L.waitSeconds;for(N=K.length-1;N>-1&&(M=K[N]);N--){P=M.getAttribute("data-main");Q=M.src;if(Q){J=Q.match(L.baseUrlMatch);if(J){break}}}Q=(P)?d(x(w.location.href),P):b(x(w.location.href),L.location);v=F[""]=new y(null,"",Q,L);D();if(P){v.loadPackageDef(P)}else{v.procesPackageCfg(L);if((L.main!=="")&&(L.mainFunction!==null)){E(L.main,L.deps,L.mainFunction);v.procesModQueue({_package:v,_moduleId:L.main,src:w.location.href},true)}else{if(L.main!==""){v.loadModules([[L.main,v]])}}}}function D(){var J=w.require=v.returnRequire();J.ensure=w.require;J["package"]=l;J.main=w.module=v.returnModule();w.module.declare=E;w.module.modules=F;w.define=E}if(typeof w.require!=="function"){i((typeof w.require!=="undefined")?w.require:{})}}).call(typeof window==="undefined"?this:window);